{"remainingRequest":"/Users/lishentuan/liguotuan/vue-cli3/node_modules/babel-loader/lib/index.js!/Users/lishentuan/liguotuan/vue-cli3/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lishentuan/liguotuan/vue-cli3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lishentuan/liguotuan/vue-cli3/src/components/HelloWorld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lishentuan/liguotuan/vue-cli3/src/components/HelloWorld.vue","mtime":1596415707530},{"path":"/Users/lishentuan/liguotuan/vue-cli3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lishentuan/liguotuan/vue-cli3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lishentuan/liguotuan/vue-cli3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lishentuan/liguotuan/vue-cli3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFzZVVybDogIiIsCiAgICAgIHR5cGVMaXN0OiBbewogICAgICAgIHR5cGU6ICJzaXQxIiwKICAgICAgICB1cmw6ICIvYXBwcy9kYXRhL2NvZGVQaWMvc2l0MSIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJzaXQyIiwKICAgICAgICB1cmw6ICIvYXBwcy9kYXRhL2NvZGVQaWMvc2l0MiIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJ1YXQxIiwKICAgICAgICB1cmw6ICIvYXBwcy9kYXRhL2NvZGVQaWMvdWF0MSIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJ1YXQyIiwKICAgICAgICB1cmw6ICIvYXBwcy9kYXRhL2NvZGVQaWMvdWF0MiIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJsb2ciLAogICAgICAgIHVybDogIi9hcHBzL2RhdGEvY29kZVBpYy9sb2ciCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09ICJwcm9kdWN0aW9uIikgewogICAgICB0aGlzLmJhc2VVcmwgPSAiaHR0cDovLzE4My42My4xMzEuMTE1OjQwMDEiOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5iYXNlVXJsID0gIi9hcGkiOwogICAgfQoKICAgIHRoaXMudHlwZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBfdGhpcy5nZXRGb2xkZXIoewogICAgICAgIHBhdGg6IGl0ZW0udXJsCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLiRzZXQoaXRlbSwgImxpc3QiLCByZXMuZGF0YSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmlofku7blpLkKICAgIGdldEZvbGRlcjogZnVuY3Rpb24gZ2V0Rm9sZGVyKHBhdGgpIHsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIiIuY29uY2F0KHRoaXMuYmFzZVVybCwgIi9zcHJpbmdib290L2dldEFsbFBhdGgiKSwgcGF0aCk7CiAgICB9LAogICAgLy8g6I635Y+W5paH5Lu2CiAgICBnZXRGaWxlOiBmdW5jdGlvbiBnZXRGaWxlKHBhdGgpIHsKICAgICAgY29uc29sZS5sb2cocGF0aCk7IC8vIGNvbnN0IG5hbWUgPSBwYXRoLnNwbGl0KCcvJylbLTFdOwogICAgICAvLyBjb25zb2xlLmxvZyhuYW1lLCBwYXRoLnNwbGl0KCcvJykpOwogICAgICAvLyByZXR1cm4gYXhpb3MucG9zdChgJHt0aGlzLmJhc2VVcmx9L3NwcmluZ2Jvb3QvZ2V0UGljU3RyMkJBU0U2NGAsIHBhdGgpOwoKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiLAogICAgICAgIC8vIOi/lOWbnuagvOW8j++8jOm7mOiupGpzb27vvIzlj6/pgIlhcnJheWJ1ZmZlcuOAgWJsb2LjgIFkb2N1bWVudOOAgWpzb27jgIF0ZXh044CBc3RyZWFtCiAgICAgICAgdXJsOiAiIi5jb25jYXQodGhpcy5iYXNlVXJsLCAiL3NwcmluZ2Jvb3QvZ2V0UGljU3RyMkJBU0U2NCIpLAogICAgICAgIGRhdGE6IHBhdGgKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbcmVzLmRhdGFdLCB7CiAgICAgICAgICB0eXBlOiAiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQ7Y2hhcnNldD11dGYtOCIKICAgICAgICB9KTsKICAgICAgICB2YXIgZG93bmxvYWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgIHZhciBocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgZG93bmxvYWRFbGVtZW50LmhyZWYgPSBocmVmOyAvLyBkb3dubG9hZEVsZW1lbnQuZG93bmxvYWQgPSBgJHtuYW1lfS54bHNgOyAvLyB4eHgueGxzL3h4eC54bHN4CgogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRFbGVtZW50KTsKICAgICAgICBkb3dubG9hZEVsZW1lbnQuY2xpY2soKTsKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvd25sb2FkRWxlbWVudCk7CiAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwoaHJlZik7CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25Mb2FkOiBmdW5jdGlvbiBkb3duTG9hZChwYXRoKSB7CiAgICAgIHRoaXMuZ2V0RmlsZSh7CiAgICAgICAgcGF0aDogcGF0aAogICAgICB9KTsKICAgIH0sCiAgICB1cExvYWQ6IGZ1bmN0aW9uIHVwTG9hZCh0eXBlKSB7CiAgICAgIC8vIOS4iuS8oCAvYXBpL3NwcmluZ2Jvb3Qvc2V0UGljU3RyCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHJlYWQgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICByZWFkLnJlYWRBc0RhdGFVUkwodGhhdC4kcmVmc1t0eXBlXS5maWxlc1swXSk7CgogICAgICByZWFkLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZGF0YSA9IHRoaXMucmVzdWx0LnNwbGl0KCIsIilbMV07CiAgICAgICAgYXhpb3MucG9zdCgiIi5jb25jYXQodGhhdC5iYXNlVXJsLCAiL3NwcmluZ2Jvb3Qvc2V0UGljU3RyIiksIHsKICAgICAgICAgIHR5cGU6IHR5cGUgPT0gImxvZyIgPyAiMiIgOiAiMSIsCiAgICAgICAgICBiYXNlNjRQaWNTdHI6IGRhdGEsCiAgICAgICAgICBlbnZUeXBlOiB0eXBlLAogICAgICAgICAgZmlsZU5hbWU6IHRoYXQuJHJlZnNbdHlwZV0uZmlsZXNbMF0ubmFtZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC4kcmVmc1t0eXBlXS52YWx1ZSA9ICIiOwogICAgICAgICAgYWxlcnQoIuS4iuS8oOaIkOWKnyIpOwogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["HelloWorld.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"hello\">\n    <div class=\"flex\">\n      <div style=\"width: 80px\">sit1图片</div>\n      <input type=\"file\" ref=\"sit1\" />\n      <button @click=\"upLoad('sit1')\">上传</button>\n    </div>\n\n    <div class=\"flex\">\n      <span style=\"width: 80px\">sit2图片</span>\n      <input type=\"file\" ref=\"sit2\" />\n      <button @click=\"upLoad('sit2')\">上传</button>\n    </div>\n\n    <div class=\"flex\">\n      <span style=\"width: 80px\">uat1图片</span>\n      <input type=\"file\" ref=\"uat1\" />\n      <button @click=\"upLoad('uat1')\">上传</button>\n    </div>\n\n    <div class=\"flex\">\n      <span style=\"width: 80px\">uat2图片</span>\n      <input type=\"file\" ref=\"uat2\" />\n      <button @click=\"upLoad('uat2')\">上传</button>\n    </div>\n\n    <div class=\"flex\">\n      <span style=\"width: 80px\">文件</span>\n      <input type=\"file\" ref=\"log\" />\n      <button @click=\"upLoad('log')\">上传</button>\n    </div>\n    <div v-for=\"(type, index) in typeList\" :key=\"index\" class=\"block\">\n      <div>当前目录{{type.url}}</div>\n      <div class=\"folderDom\">\n        <div v-for=\"(item, index) in type.list\" :key=\"index\" @click=\"downLoad(item)\">{{item}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"HelloWorld\",\n  data() {\n    return {\n      baseUrl: \"\",\n      typeList: [\n        {\n          type: \"sit1\",\n          url: \"/apps/data/codePic/sit1\",\n        },\n        {\n          type: \"sit2\",\n          url: \"/apps/data/codePic/sit2\",\n        },\n        {\n          type: \"uat1\",\n          url: \"/apps/data/codePic/uat1\",\n        },\n        {\n          type: \"uat2\",\n          url: \"/apps/data/codePic/uat2\",\n        },\n        {\n          type: \"log\",\n          url: \"/apps/data/codePic/log\",\n        },\n      ],\n    };\n  },\n  created() {\n    if (process.env.NODE_ENV == \"production\") {\n      this.baseUrl = \"http://183.63.131.115:4001\";\n    } else {\n      this.baseUrl = \"/api\";\n    }\n    this.typeList.forEach((item) => {\n      this.getFolder({ path: item.url }).then((res) => {\n        this.$set(item, \"list\", res.data);\n      });\n    });\n  },\n  methods: {\n    // 获取文件夹\n    getFolder(path) {\n      return axios.post(`${this.baseUrl}/springboot/getAllPath`, path);\n    },\n    // 获取文件\n    getFile(path) {\n      console.log(path);\n      // const name = path.split('/')[-1];\n      // console.log(name, path.split('/'));\n      // return axios.post(`${this.baseUrl}/springboot/getPicStr2BASE64`, path);\n      axios({\n        method: \"post\",\n        responseType: \"blob\", // 返回格式，默认json，可选arraybuffer、blob、document、json、text、stream\n        url: `${this.baseUrl}/springboot/getPicStr2BASE64`,\n        data: path,\n      }).then((res) => {\n        let blob = new Blob([res.data], {\n          type:\n            \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8\",\n        });\n        let downloadElement = document.createElement(\"a\");\n        let href = window.URL.createObjectURL(blob);\n        downloadElement.href = href;\n        // downloadElement.download = `${name}.xls`; // xxx.xls/xxx.xlsx\n        document.body.appendChild(downloadElement);\n        downloadElement.click();\n        document.body.removeChild(downloadElement);\n        window.URL.revokeObjectURL(href);\n      });\n    },\n    downLoad(path) {\n      this.getFile({ path: path });\n    },\n    upLoad(type) {\n      // 上传 /api/springboot/setPicStr\n      const that = this;\n      var read = new FileReader();\n      read.readAsDataURL(that.$refs[type].files[0]);\n      read.onload = function () {\n        let data = this.result.split(\",\")[1];\n        axios\n          .post(`${that.baseUrl}/springboot/setPicStr`, {\n            type: type == \"log\" ? \"2\" : \"1\",\n            base64PicStr: data,\n            envType: type,\n            fileName: that.$refs[type].files[0].name,\n          })\n          .then(() => {\n            that.$refs[type].value = \"\";\n            alert(\"上传成功\");\n          });\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.flex {\n  margin: 10px 0 0 15px;\n  display: flex;\n}\n.block {\n  margin: 10px 0 0 15px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}